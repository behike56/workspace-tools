#:kivy 2.3.0

<Root>:
    orientation: "vertical"
    padding: "16dp"
    spacing: "12dp"

    BoxLayout:
        size_hint_y: None
        height: "40dp"
        spacing: "8dp"
        Label:
            text: "ディレクトリ:"
            font_name: "JP"
            size_hint_x: None
            width: "110dp"
        TextInput:
            id: dir_input
            text: root.dir_path
            on_text: root.dir_path = self.text
            multiline: False
            font_name: "JP"

    BoxLayout:
        size_hint_y: None
        height: "44dp"
        spacing: "8dp"
        Button:
            text: "先頭に Amazon_ を付与"
            on_release: root.run_prefix()
            font_name: "JP"
        Button:
            text: "PDF→Amazon形式でリネーム"
            on_release: root.run_pdf()
            font_name: "JP"

    Label:
        text: root.status
        size_hint_y: None
        height: "28dp"
        font_name: "JP"

    # ← ここで data を書くなら子の前に置く。更新は Python 側でやる。
    RecycleView:
        id: rv
        viewclass: "Label"
        data: []  # 初期値は空
        RecycleBoxLayout:
            default_size: None, dp(28)
            default_size_hint: 1, None
            size_hint_y: None
            height: self.minimum_height
            orientation: "vertical"
